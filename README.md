# GENET

Reinforcement learning resources for the Performance-oriented Congestion Control
project.

## Installation and Setup

- Run the following command to clone the repo.

    ```bash
    git clone git@github.com:zxxia/PCC-RL.git
    ```

- Virtual environment is highly recommended. Please set up one in python3. FYI,
  [venv](https://docs.python.org/3.7/library/venv.html) and
  [conda](https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html).
  Other virtual environment related tools are like
  [virtualenvwrapper](https://virtualenvwrapper.readthedocs.io/en/latest/),
  [pyenv](https://github.com/pyenv/pyenv) and, etc.
- Activate the virtual environment.
- Run the following commands to install the required packges.

  - For Ubuntu

    ```bash
    cd PCC-RL
    sudo apt install mpich
    pip install -r requirements.txt
    ```

- Add `src` to `$PYTHONPATH` by running

    ```bash
    cd PCC-RL
    export PYTHONPATH="${PYTHONPATH}:$(pwd)/src"
    ```
  <!--  -->
  <!-- - For MacOS -->
  <!--  -->
  <!--   ```bash -->
  <!--   cd PCC-RL -->
  <!--   brew install openmpi -->
  <!--   pip install -r requirements.txt -->
  <!--   ``` -->

## Traces

### Real Traces

Real traces are recorded on Pantheon platform and they can be downloaded from
[Pantheon](https://pantheon.stanford.edu/measurements/node/). There are three
connection types: cellular, ethernet, and wifi. The path to store them is
`PCC-RL/data/${connection_type}`

### Syntheic Traces

Generated by `${project_root}/src/simulator/trace.py`

## Configuration files

The configurations are stored at `${project_root}/config/train`

## Training

### udr training

```bash
cd src/simulator
# run on CPU only if CUDA & GPU(s) are installed
CUDA_VISIBLE_DEVICES="" python train_rl.py ```

### genet training

```bash
cd src/simulator
python genet_improved.py
```

<!-- ## Overview -->
<!--  -->
<!-- This repo contains the gym environment required for training reinforcement -->
<!-- learning models used in the PCC project along with the Python module required to -->
<!-- run RL models in the PCC UDT codebase found at github.com/PCCProject/PCC-Uspace. -->
<!--  -->
<!--  -->
<!-- ## Training -->
<!-- To run training only, go to ./src/gym/, install any missing requirements for -->
<!-- stable\_solve.py and run that script. By default, this should replicate the -->
<!-- model presented in A Reinforcement Learning Perspective on Internet Congestion -->
<!-- Control, ICML 2019. -->
<!--  -->
<!-- ## Testing Models -->
<!--  -->
<!-- To test models in the real world (i.e., sending real packets into the Linux -->
<!-- kernel and out onto a real or emulated network), download and install the PCC -->
<!-- UDT code from github.com/PCCProject/PCC-Uspace. Follow the instructions in that -->
<!-- repo for using congestion control algorithms with Python modules, and see -->
<!-- ./src/gym/online/README.md for additional instructions regarding testing or training models in the real world. -->
